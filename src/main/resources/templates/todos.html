<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">    
    <!-- CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
     <link th:href="@{/css/styles.css}" rel="stylesheet">
    <title>Todoリスト</title>
</head>
<body>
	<nav class="navbar bg-dark text-uppercase">
	<div class="container-fluid">
    	<a class="navbar-brand text-white" th:href="@{/}">TODOアプリ</a>
    	<form th:action="@{/logout}" method="post">
			<span class="text-light" th:text="|ログインID：${#authentication.principal.username}|"></span>
			<input type="submit" class="btn btn-light" value="ログアウト" />
		</form>
	</div>
</nav>
<h1 class="text-center p-2">
		一覧画面</h1>
<div class="container mt-5 ">
    <a href="/create" class="btn btn-primary btn-create">Todo作成</a>

    <div class="table-responsive">
        <table class="table table-bordered border-dark text-center">
            <thead>
                <tr class="table-dark table-active text-uppercase text-white">
                    <th class="col-2">タイトル</th>
                    <th class="col-2">予定日</th>
                    <th class="col-4">説明</th>
                    <th class="col-2">ステータス</th>
                    <th class="col-2">操作</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="todo : ${todos}">
                    <td th:text="${todo.title}">Title</td>
                    <td th:text="${todo.time_limit}">time_limit</td>
                    <td th:text="${todo.description}">Description</td>
                    <td th:text="${todo.status} ? '完了' : '未完了'"></td>
                    <td><a th:href="@{/todo/edit/{id}(id=${todo.id})}" class="btn btn-warning btn-sm">修正</a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

	
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<!-- 日本語化する場合は下記を追記 -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ja.js"></script>
</body>
</html>